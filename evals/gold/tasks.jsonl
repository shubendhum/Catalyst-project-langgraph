{"task_id": "code-gen-001", "category": "code_generation", "prompt": "Create a Python FastAPI endpoint for user registration with email validation and password hashing", "expected_output": {"contains": ["FastAPI", "async def", "email", "password", "hash", "@app.post"], "structure": "complete_code", "language": "python"}, "metadata": {"difficulty": "medium", "time_limit": 30}}
{"task_id": "code-gen-002", "category": "code_generation", "prompt": "Build a React component for a todo list with add, delete, and toggle complete functionality", "expected_output": {"contains": ["useState", "React", "function", "onClick", "map"], "structure": "complete_code", "language": "javascript"}, "metadata": {"difficulty": "easy", "time_limit": 20}}
{"task_id": "code-gen-003", "category": "code_generation", "prompt": "Create a database schema for an e-commerce system with users, products, orders, and payments", "expected_output": {"contains": ["CREATE TABLE", "users", "products", "orders", "FOREIGN KEY"], "structure": "sql_schema", "language": "sql"}, "metadata": {"difficulty": "medium", "time_limit": 25}}
{"task_id": "bug-fix-001", "category": "bug_fix", "prompt": "Fix this Python code that crashes with IndexError:\n\ndef get_first_item(items):\n    return items[0]", "expected_output": {"contains": ["if", "len(items)", "return None", "or", "raise"], "fixes": ["index_check", "error_handling"], "language": "python"}, "metadata": {"difficulty": "easy", "time_limit": 10}}
{"task_id": "bug-fix-002", "category": "bug_fix", "prompt": "Fix this React component that doesn't update when props change:\n\nfunction UserProfile({ userId }) {\n  const [user, setUser] = useState(null);\n  \n  fetch(`/api/users/${userId}`)\n    .then(r => r.json())\n    .then(setUser);\n  \n  return <div>{user?.name}</div>;\n}", "expected_output": {"contains": ["useEffect", "userId", "dependency"], "fixes": ["missing_useeffect", "fetch_in_render"], "language": "javascript"}, "metadata": {"difficulty": "medium", "time_limit": 15}}
{"task_id": "arch-001", "category": "architecture", "prompt": "Design a microservices architecture for a social media platform with 10M users. Include: authentication, posts, comments, notifications, media storage", "expected_output": {"contains": ["microservices", "authentication", "posts", "database", "cache", "queue", "API gateway"], "structure": "architecture_diagram", "components": ["auth_service", "post_service", "notification_service"]}, "metadata": {"difficulty": "hard", "time_limit": 60}}
{"task_id": "test-001", "category": "testing", "prompt": "Write pytest tests for this function:\n\ndef calculate_discount(price, discount_percent):\n    if discount_percent < 0 or discount_percent > 100:\n        raise ValueError('Invalid discount')\n    return price * (1 - discount_percent / 100)", "expected_output": {"contains": ["def test_", "assert", "pytest.raises", "ValueError"], "test_cases": ["valid_discount", "invalid_negative", "invalid_over_100", "zero_discount"], "language": "python"}, "metadata": {"difficulty": "medium", "time_limit": 20}}
{"task_id": "refactor-001", "category": "refactoring", "prompt": "Refactor this code to be more maintainable:\n\ndef process(data):\n    result = []\n    for item in data:\n        if item['type'] == 'A':\n            result.append(item['value'] * 2)\n        elif item['type'] == 'B':\n            result.append(item['value'] * 3)\n        elif item['type'] == 'C':\n            result.append(item['value'] * 5)\n    return result", "expected_output": {"contains": ["dict", "map", "lambda", "get"], "improvements": ["strategy_pattern", "dict_mapping", "extensibility"], "language": "python"}, "metadata": {"difficulty": "medium", "time_limit": 20}}
{"task_id": "security-001", "category": "security", "prompt": "Identify and fix security vulnerabilities in this SQL query:\n\ndef get_user(username):\n    query = f\"SELECT * FROM users WHERE username = '{username}'\"\n    return execute_query(query)", "expected_output": {"contains": ["SQL injection", "parameterized", "?", "prepared statement", "sanitize"], "vulnerabilities": ["sql_injection"], "language": "python"}, "metadata": {"difficulty": "easy", "time_limit": 15}}
{"task_id": "performance-001", "category": "optimization", "prompt": "Optimize this slow Python code:\n\ndef find_duplicates(items):\n    duplicates = []\n    for i in range(len(items)):\n        for j in range(i+1, len(items)):\n            if items[i] == items[j] and items[i] not in duplicates:\n                duplicates.append(items[i])\n    return duplicates", "expected_output": {"contains": ["set", "O(n)", "Counter", "dict"], "improvements": ["time_complexity", "data_structure"], "language": "python"}, "metadata": {"difficulty": "medium", "time_limit": 20}}
{"task_id": "real-bug-001", "category": "bug_fix", "prompt": "User reports: 'App crashes when I try to login with empty email field'. Fix this authentication endpoint:\n\n@app.post('/api/auth/login')\nasync def login(email: str, password: str):\n    user = await db.users.find_one({'email': email})\n    if user and check_password(password, user['password']):\n        return {'token': create_jwt(user['_id'])}\n    raise HTTPException(401, 'Invalid credentials')", "expected_output": {"contains": ["validation", "if not email", "strip", "validate", "422"], "fixes": ["input_validation", "empty_check"], "language": "python"}, "metadata": {"difficulty": "medium", "time_limit": 15}}
{"task_id": "real-bug-002", "category": "bug_fix", "prompt": "Bug report: 'Frontend shows stale data after update'. Debug this React component:\n\nfunction TodoList() {\n  const [todos, setTodos] = useState([]);\n  \n  useEffect(() => {\n    fetch('/api/todos').then(r => r.json()).then(setTodos);\n  }, []);\n  \n  const deleteTodo = async (id) => {\n    await fetch(`/api/todos/${id}`, {method: 'DELETE'});\n  };\n  \n  return todos.map(t => <Todo key={t.id} {...t} onDelete={deleteTodo} />);\n}", "expected_output": {"contains": ["setTodos", "filter", "refetch", "optimistic"], "fixes": ["state_update", "refetch_after_delete"], "language": "javascript"}, "metadata": {"difficulty": "medium", "time_limit": 20}}
{"task_id": "integration-001", "category": "integration", "prompt": "Integrate Stripe payment processing for subscription billing. Create endpoint that:\n1. Creates Stripe customer\n2. Creates subscription\n3. Handles webhooks for payment success/failure\n4. Stores subscription in database", "expected_output": {"contains": ["stripe", "customer.create", "subscription", "webhook", "signature", "database"], "structure": "complete_code", "language": "python"}, "metadata": {"difficulty": "hard", "time_limit": 60}}
{"task_id": "migration-001", "category": "database", "prompt": "Create a database migration to add 'last_login' timestamp field to users table and index it for performance. Also add 'is_active' boolean field with default True.", "expected_output": {"contains": ["ALTER TABLE", "ADD COLUMN", "last_login", "TIMESTAMP", "CREATE INDEX", "is_active", "DEFAULT"], "structure": "migration", "language": "sql"}, "metadata": {"difficulty": "medium", "time_limit": 15}}
{"task_id": "api-design-001", "category": "api_design", "prompt": "Design a RESTful API for a task management system with:\n- User authentication\n- Projects with multiple tasks\n- Task assignments to users\n- Task comments and attachments\n- Activity history\nProvide endpoint specifications with HTTP methods, paths, request/response schemas.", "expected_output": {"contains": ["POST", "GET", "PUT", "DELETE", "/projects", "/tasks", "authentication", "JSON", "schema"], "structure": "api_spec", "language": "rest"}, "metadata": {"difficulty": "hard", "time_limit": 45}}
{"task_id": "error-handling-001", "category": "error_handling", "prompt": "Add comprehensive error handling to this API endpoint:\n\n@app.post('/api/orders')\nasync def create_order(order_data: dict):\n    user = db.users.find_one({'id': order_data['user_id']})\n    product = db.products.find_one({'id': order_data['product_id']})\n    \n    if product['stock'] < order_data['quantity']:\n        return {'error': 'Out of stock'}\n    \n    db.orders.insert_one(order_data)\n    return {'success': True}", "expected_output": {"contains": ["try", "except", "ValidationError", "HTTPException", "logging", "status_code", "error_message"], "improvements": ["error_handling", "validation", "logging"], "language": "python"}, "metadata": {"difficulty": "medium", "time_limit": 20}}
{"task_id": "concurrent-001", "category": "concurrency", "prompt": "This endpoint has a race condition when multiple users book the same seat. Fix it:\n\n@app.post('/api/bookings')\nasync def book_seat(seat_id: int, user_id: int):\n    seat = await db.seats.find_one({'id': seat_id})\n    if not seat['is_booked']:\n        await db.seats.update_one(\n            {'id': seat_id},\n            {'$set': {'is_booked': True, 'user_id': user_id}}\n        )\n        return {'success': True}\n    return {'error': 'Seat already booked'}", "expected_output": {"contains": ["transaction", "lock", "atomic", "findOneAndUpdate", "version"], "fixes": ["race_condition", "atomic_operation"], "language": "python"}, "metadata": {"difficulty": "hard", "time_limit": 25}}
{"task_id": "monitoring-001", "category": "observability", "prompt": "Add monitoring and logging to this critical payment processing function. Include:\n- Execution time tracking\n- Error logging with context\n- Success/failure metrics\n- Alert on failures\n\ndef process_payment(order_id, amount, payment_method):\n    charge = stripe.charge.create(amount=amount, currency='usd', source=payment_method)\n    update_order_status(order_id, 'paid')\n    send_confirmation_email(order_id)\n    return charge", "expected_output": {"contains": ["logger", "time", "metrics", "exception", "alert", "context"], "improvements": ["logging", "monitoring", "observability"], "language": "python"}, "metadata": {"difficulty": "medium", "time_limit": 20}}
{"task_id": "accessibility-001", "category": "accessibility", "prompt": "Make this React form accessible for screen readers and keyboard navigation:\n\nfunction LoginForm() {\n  return (\n    <div>\n      <input type='text' placeholder='Email' />\n      <input type='password' placeholder='Password' />\n      <button onClick={handleLogin}>Login</button>\n    </div>\n  );\n}", "expected_output": {"contains": ["label", "htmlFor", "aria-", "role", "id", "onKeyPress"], "improvements": ["accessibility", "aria_labels", "keyboard_navigation"], "language": "javascript"}, "metadata": {"difficulty": "medium", "time_limit": 15}}
